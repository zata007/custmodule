<mat-toolbar fxLayout="row" fxLayoutAlign="flex-start center">
  <button mat-button color="primary" type="button" mat-icon-button (click)="onBackClick()">
    <mat-icon aria-label="notification icon">keyboard_backspace</mat-icon>
  </button>
  <div>{{businessName}}</div>
</mat-toolbar>

<div class="recorder-container" fxLayout="column" fxLayoutAlign="center center">
  <mat-card *ngIf="!hasRecorded && !previewMode" class="audio"  fxLayout="column" fxLayoutAlign="center center">
    <div class="head4 title">{{"ESSENTIAL_SERVICE.SAY_THE_PRODUCT_NAME" | translate}}</div>
    <div class="image {{hasRecordingStarted ? 'clicked' : null }}" (click)="onMicClick()" fxLayout="row" fxLayoutAlign="center center">
      <img src="{{hasRecordingStarted ?'../../../../assets/icons/stop.svg':'../../../../assets/icons/play.svg'}}" alt="">
    </div>
    <div *ngIf="hasRecordingStarted" class="recording-remaining">{{recordingRemaining}}sec</div>
    <div *ngIf="!previewMode && !hasRecordingStarted" fxLayout="row" fxLayoutAlign="center center">
      <button mat-stroked-button color="primary" (click)="seeSample(audio)">{{"CHECK_SAMPLE" | translate}}</button>
    </div>
  </mat-card>
  <mat-card *ngIf="!previewMode && !hasRecordingStarted" class="photo" fxLayout="column" fxLayoutAlign="center center">
    <div class="head4">{{"ESSENTIAL_SERVICE.WRITE_PRODUCT_AND_QUANTITY" | translate}} </div>
    <div fxLayout="row" fxLayoutAlign="center center" class="image {{hasRecordingStarted ? 'clicked' : null }}" (click)="fileInput.click()">
      <img src="../../../../assets/icons/photo.svg" alt="">
    </div>
    <input type='file' accept="image/*" (change)="onSelectFile($event)" #fileInput hidden>
    <div *ngIf="!previewMode && !hasRecordingStarted" fxLayout="row" fxLayoutAlign="center center">
      <button mat-stroked-button color="primary" (click)="seeSample(image)">{{"CHECK_SAMPLE" | translate}}</button>
    </div>
  </mat-card>
  <div *ngIf="previewMode" class="button" fxLayout="column" fxLayoutAlign="center center">
    <div *ngIf="hasRecorded" class="recorded-msg">
      <audio #recordedPlayer controls></audio>
    </div>
    <div *ngIf="imagePreview" class="image-taken" fxLayout="column" fxLayoutAlign="center center">
      <img src="{{imagePreview}}" alt="">
      <mat-icon color="primary" (click)="cancelPhoto()">cancel</mat-icon>
    </div>
    <button mat-flat-button color="primary" (click)="onSaveClick()">{{"SUBMIT" | translate}}</button>
    <button mat-button color="primary" (click)="onCancelClick()">{{"CANCEL" | translate}}</button>
  </div>
  <div *ngIf="imagePreview || hasRecorded" class="head3 bold submit-text">{{"ESSENTIAL_SERVICE.SUBMIT_OR_CANCEL_FOR_NEW_ENTRY" | translate}} </div>
</div>
